!function(t){function n(n){const i=t(t("#counter-template").html());i.attr("data-id",n.id),i.find(".counter-name").html(n.name),i.find(".counter-count").html(n.count),i.find(".counter-increment").click(t=>{c(n.id,1)}),i.find(".counter-decrement").click(t=>{c(n.id,-1)}),i.find(".counter-delete").click(c=>function(n){let c=o();confirm("Are you sure you want to delete this counter?")&&(c=c.filter((t,o)=>t.id!==n),e(c),t(`.card[data-id="${n}"`).remove())}(n.id)),t("#counter-list").append(i)}function o(){if(localStorage){const t=localStorage.getItem("counters");return t&&t.length?JSON.parse(t):[]}return[]}function e(t){localStorage&&localStorage.setItem("counters",JSON.stringify(t))}function c(n,c){const i=o(),u=function(t,n){const o=n.filter((n,o)=>n.id===t);if(1===o.length)return o[0]}(n,i);u.count+=c,u.history.push({date:Date.now(),count:u.count}),e(i),t(`.card[data-id="${n}"`).find(".counter-count").html(u.count)}function i(){t("#add-counter-form").submit((function(c){if(c.preventDefault(),c.stopPropagation(),this.checkValidity()){!function(t){const c=o(),i={id:Date.now(),name:t,count:0,history:[{count:0,date:Date.now()}]};c.push(i),e(c),n(i)}(t("#counter-name").val()),t("#counter-name").val("")}else this.classList.add("was-validated");return!1}))}t((function(){i(),function(){const e=o();t("#counter-list").empty();for(let t=0;t<e.length;t++){n(e[t])}}()})),jQuery(document).on("click",".navbar-nav > .dropdown",(function(t){t.stopPropagation()})),t(".dropdown-submenu").click((function(){t(".dropdown-submenu > .dropdown-menu").toggleClass("show")}))}($);